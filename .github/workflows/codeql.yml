name: CodeQL Analysis

on:
  push:
    branches:
      - main  # Adjust the branch name as needed
  pull_request:
    branches:
      - main  # Adjust the branch name as needed

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Set up CodeQL
        uses: github/codeql-action/init@v1

      - name: Build and analyze
        run: |
          # Build your project (e.g., compile, install dependencies)
          # Run CodeQL analysis
          codeql database create --language=javascript --source-root=.

      - name: Upload results
        uses: github/codeql-action/upload-sarif@v1
        with:
          sarif_file: codeql-database/codeql.sarif
